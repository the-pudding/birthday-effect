import{o,q as h,v as m,D as v,B as C,w as _,x as F,y as k,z as D,A as R,C as d,E as p,F as T,R as N,G as E,I as O,J as g,K as A,U as B,M as I,L as z,N as L,O as l,a as Y,P as x}from"./DFNswkoY.js";function q(s,e){var n={f:0,v:s,reactions:null,equals:D,rv:0,wv:0};return n}function G(s){return K(q(s))}function H(s,e=!1){const n=q(s);return e||(n.equals=k),n}function K(s){return o!==null&&!h&&(o.f&v)!==0&&(_===null?L([s]):_.push(s)),s}function J(s,e){return o!==null&&!h&&m()&&(o.f&(v|C))!==0&&(_===null||!_.includes(s))&&F(),M(s,e)}function M(s,e){return s.equals(e)||(s.v,s.v=e,s.wv=R(),w(s,g),d!==null&&(d.f&p)!==0&&(d.f&(T|N))===0&&(E===null?O([s]):E.push(s))),e}function w(s,e){var n=s.reactions;if(n!==null)for(var t=n.length,i=0;i<t;i++){var a=n[i],c=a.f;(c&g)===0&&(A(a,e),(c&(p|B))!==0&&((c&v)!==0?w(a,I):z(a)))}}function U(s,e,n){if(s==null)return e(void 0),l;const t=Y(()=>s.subscribe(e,n));return t.unsubscribe?()=>t.unsubscribe():t}const f=[];function P(s,e=l){let n=null;const t=new Set;function i(r){if(x(s,r)&&(s=r,n)){const b=!f.length;for(const u of t)u[1](),f.push(u,s);if(b){for(let u=0;u<f.length;u+=2)f[u][0](f[u+1]);f.length=0}}}function a(r){i(r(s))}function c(r,b=l){const u=[r,b];return t.add(u),t.size===1&&(n=e(i,a)||l),r(s),()=>{t.delete(u),t.size===0&&n&&(n(),n=null)}}return{set:i,update:a,subscribe:c}}function S(s){let e;return U(s,n=>e=n)(),e}export{J as a,U as b,G as c,S as g,M as i,H as m,q as s,P as w};
