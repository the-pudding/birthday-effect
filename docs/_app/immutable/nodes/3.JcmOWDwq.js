import"../chunks/Bg9kRutz.js";import{ar as g,v as y,w as m,a1 as B,t as I,G as p,Q as W,p as $,k as O,o as J,n as z,aE as oe}from"../chunks/C-KrEM12.js";import{a as A,b as E,u as ne}from"../chunks/D9u-oKDD.js";import{t as k,b,d as G,e as se}from"../chunks/Cc-cUF5S.js";import{s as ie,p as j,a as R}from"../chunks/N-cEdp_P.js";import{a as D,e as le}from"../chunks/CZk5PmJc.js";import{e as H,i as P,b as ce,c as de}from"../chunks/C5qbwJMn.js";import{e as ue,C as he,c as ve}from"../chunks/3spKqw0t.js";import{c as pe,i as K}from"../chunks/iEBUTdGV.js";import{s as te}from"../chunks/CNkudFhZ.js";import{b as fe}from"../chunks/aYVvIMHM.js";import{b as me}from"../chunks/Dhm5_7O9.js";var X={},Y={},Z=34,N=10,V=13;function ae(t){return new Function("d","return {"+t.map(function(e,a){return JSON.stringify(e)+": d["+a+'] || ""'}).join(",")+"}")}function ye(t,e){var a=ae(t);return function(r,s){return e(a(r),s,t)}}function ee(t){var e=Object.create(null),a=[];return t.forEach(function(r){for(var s in r)s in e||a.push(e[s]=s)}),a}function S(t,e){var a=t+"",r=a.length;return r<e?new Array(e-r+1).join(0)+a:a}function ge(t){return t<0?"-"+S(-t,6):t>9999?"+"+S(t,6):S(t,4)}function be(t){var e=t.getUTCHours(),a=t.getUTCMinutes(),r=t.getUTCSeconds(),s=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":ge(t.getUTCFullYear())+"-"+S(t.getUTCMonth()+1,2)+"-"+S(t.getUTCDate(),2)+(s?"T"+S(e,2)+":"+S(a,2)+":"+S(r,2)+"."+S(s,3)+"Z":r?"T"+S(e,2)+":"+S(a,2)+":"+S(r,2)+"Z":a||e?"T"+S(e,2)+":"+S(a,2)+"Z":"")}function xe(t){var e=new RegExp('["'+t+`
\r]`),a=t.charCodeAt(0);function r(o,d){var w,u,l=s(o,function(_,f){if(w)return w(_,f-1);u=_,w=d?ye(_,d):ae(_)});return l.columns=u||[],l}function s(o,d){var w=[],u=o.length,l=0,_=0,f,T=u<=0,C=!1;o.charCodeAt(u-1)===N&&--u,o.charCodeAt(u-1)===V&&--u;function U(){if(T)return Y;if(C)return C=!1,X;var F,L=l,M;if(o.charCodeAt(L)===Z){for(;l++<u&&o.charCodeAt(l)!==Z||o.charCodeAt(++l)===Z;);return(F=l)>=u?T=!0:(M=o.charCodeAt(l++))===N?C=!0:M===V&&(C=!0,o.charCodeAt(l)===N&&++l),o.slice(L+1,F-1).replace(/""/g,'"')}for(;l<u;){if((M=o.charCodeAt(F=l++))===N)C=!0;else if(M===V)C=!0,o.charCodeAt(l)===N&&++l;else if(M!==a)continue;return o.slice(L,F)}return T=!0,o.slice(L,u)}for(;(f=U())!==Y;){for(var q=[];f!==X&&f!==Y;)q.push(f),f=U();d&&(q=d(q,_++))==null||w.push(q)}return w}function i(o,d){return o.map(function(w){return d.map(function(u){return c(w[u])}).join(t)})}function h(o,d){return d==null&&(d=ee(o)),[d.map(c).join(t)].concat(i(o,d)).join(`
`)}function v(o,d){return d==null&&(d=ee(o)),i(o,d).join(`
`)}function x(o){return o.map(n).join(`
`)}function n(o){return o.map(c).join(t)}function c(o){return o==null?"":o instanceof Date?be(o):e.test(o+="")?'"'+o.replace(/"/g,'""')+'"':o}return{parse:r,parseRows:s,format:h,formatBody:v,formatRows:x,formatRow:n,formatValue:c}}var we=xe(","),_e=we.parse,Te=k('<section id="demo-link"><h2>Link</h2> <p><a href="elements">Default element styles demo</a></p> <p><a href="fonts">Pudding-hosted font previews</a></p></section>');function ke(t){var e=Te();b(t,e)}var Ce=k('<section id="demo-image"><h2>Image</h2> <p>img tag</p> <img src="../assets/demo/test.jpg" alt="cat" class="svelte-o47y6s"> <p>background image</p> <div class="svelte-o47y6s"></div></section>');function Se(t){var e=Ce();b(t,e)}var De=k('<section id="demo-element"><h2>Dynamic Svelte Element</h2> <!></section>');function Ie(t){const e=[{tag:"h3",text:"I am a h3 tag."},{tag:"p",text:"I am p tag."}];var a=De(),r=g(y(a),2);H(r,17,()=>e,P,(s,i)=>{let h=()=>p(i).tag,v=()=>p(i).text;var x=G(),n=B(x);ue(n,h,!1,(c,o)=>{var d=se();I(()=>D(d,v())),b(o,d)}),b(s,x)}),m(a),b(t,a)}var Ae=k("<p> </p>");function Me(t,e){var a=Ae(),r=y(a);m(a),I(()=>D(r,`I am component A and my favorite number is ${e.number??""}.`)),b(t,a)}var je=k("<p> </p>");function Ee(t,e){var a=je(),r=y(a);m(a),I(()=>D(r,`I am component B and my name is ${e.name??""}.`)),b(t,a)}var Re=k('<section id="demo-component"><h2>Dynamic Svelte Component</h2> <!></section>');function Be(t){const e={A:Me,B:Ee},a=[{component:"A",number:42},{component:"B",name:"Russell"}];var r=Re(),s=g(y(r),2);H(s,17,()=>a,P,(i,h)=>{var v=G();const x=W(()=>e[p(h).component]);var n=B(v);pe(n,()=>p(x),(c,o)=>{o(c,ie(()=>p(h)))}),b(i,v)}),m(r),b(t,r)}var Ue=k("<div><!></div>");function qe(t,e){$(e,!0);let a=j(e,"root",3,null),r=j(e,"top",3,0),s=j(e,"bottom",3,0),i=j(e,"increments",3,100),h=j(e,"value",15,void 0),v=[],x=[],n=[],c=[],o;function d(){let f=0,T=0;for(let C=0;C<v.length;C++)v[C]>f&&(f=v[C],T=C);f>0?h(T):h(void 0)}function w(f,T){const C=Q=>{Q[0].isIntersecting;const re=Q[0].intersectionRatio;v[T]=re,d()},U=r()?r()*-1:0,q=s()?s()*-1:0,F=`${U}px 0px ${q}px 0px`,L={root:a(),rootMargin:F,threshold:x};c[T]&&c[T].disconnect();const M=new IntersectionObserver(C,L);M.observe(f),c[T]=M}function u(){n.length&&n.forEach(w)}O(()=>{for(let f=0;f<i()+1;f++)x.push(f/i());n=o.querySelectorAll(":scope > *:not(iframe)"),u()}),O(()=>{r(),s(),u()});var l=Ue(),_=y(l);te(_,()=>e.children??z),m(l),fe(l,f=>o=f,()=>o),b(t,l),J()}var Fe=k('<div><p class="svelte-12sq0x6"> </p></div>'),Le=k('<section id="scrolly"><h2 class="svelte-12sq0x6">Scrolly <span> </span></h2> <div class="spacer svelte-12sq0x6"></div> <!> <div class="spacer svelte-12sq0x6"></div></section>');function Ne(t){let e=E(void 0);var a=Le(),r=y(a),s=g(y(r)),i=y(s,!0);m(s),m(r);var h=g(r,4);qe(h,{get value(){return p(e)},set value(v){A(e,R(v))},children:(v,x)=>{var n=G(),c=B(n);H(c,16,()=>[0,1,2,3,4],P,(o,d,w)=>{var u=Fe();const l=W(()=>p(e)===w);let _;var f=y(u),T=y(f,!0);m(f),m(u),I(()=>{_=ce(u,1,"step svelte-12sq0x6",null,_,{active:p(l)}),D(T,d)}),b(o,u)}),b(v,n)},$$slots:{default:!0}}),oe(2),m(a),I(()=>D(i,p(e)||"-")),b(t,a)}const Oe='{"meta":{"title":"Title TK","description":"Description tk."},"body":[{"section":"intro","content":[{"type":"Hero","value":{"big":"You<br>will<br>die","small":"someday."}},{"type":"text","value":"<span class=emoji>ðŸ‘»</span>"},{"type":"text","value":"Probably not today. But youâ€™re actually <strong>more likely to die on your birthday</strong> than on other days of the year. Do you believe that?"},{"type":"text","value":"This statistical curiosity is called the <strong>birthday effect</strong>."},{"type":"text","value":"There have been a bunch of <a href=https://en.wikipedia.org/wiki/Birthday_effect target=_blank rel=noreferrer>studies</a> on different populations that have proven that itâ€™s real. But they are usually filled with complex language and equations."},{"type":"text","value":"Letâ€™s run our own study to see howâ€“and ifâ€“it works."},{"type":"text","value":"<span class=emoji>ðŸ“Š</span>"}]},{"section":"abel","content":[{"type":"text","value":"I live in Massachusetts where 59,404 people died in 2024."},{"type":"text","value":"Since there are 365.25 days in a year (accounting for leap years), we expect to see <strong>163 deaths on any given day.</strong>"},{"type":"code","value":"59,404 deaths Ã· 365.25 days = <strong>163 deaths/day</strong>"},{"type":"text","value":"<strong>173 people died on their birthday</strong> (e.g., born and died on November 15)."},{"type":"code","value":"173 (observed) Ã· 163 (expected) = <strong>1.062</strong>"},{"type":"text","value":"This means there were <strong>6.2% excess deaths</strong> on birthdays."},{"type":"text","value":"And for comparison, here is how many people died on notable holidays."},{"type":"text","value":"(simple bar chart)"},{"type":"text","value":"Thatâ€™s something! Butâ€¦is it <strong>statistically significant</strong>, not just random chance?"},{"type":"text","value":"Yes! (p-value < 0.01)"},{"type":"aside","value":"I know I promised simplicity, but we had to hand-wave a bit here since it is a bit of a digression (or you can watch this nice <a href=https://www.youtube.com/watch?v=nb75_GFPD9A target=_blank rel=noreferrer>video explainer</a>). The lower the p-value the more confident we can be that it isnâ€™t random chance. This is calculated using a popular method called a Z-test."},{"type":"text","value":"This was Abelâ€™s method when he found a 70% excess of deaths on birthdays in 7,368 Major League Baseball players. Butâ€¦the method doesnâ€™t robustly account for seasonality in the data. What is seasonality? Iâ€™m glad you asked!"}]},{"section":"seasonality","content":[{"type":"text","value":"Seasonality is when there are temporal patterns that may influence findings. In our data (and in general) youâ€™ll find that more people are born in the summer and less in winter. Conversely, more people die in winter months due to cold weather, respiratory illnesses, and other factors. These are seasonal patterns."},{"type":"text","value":"(chart)"},{"type":"text","value":"So if fewer people are born in January, <strong>and</strong> more people die in January, birthday-related deaths might appear less common <strong>because</strong> of these seasonal factors. The birthday effect argues that there are more intrinsic factors that cause a surge in deaths on our birthday. So with more statistical rigor, letâ€™s account for seasonality."}]},{"section":"swiss","content":[{"type":"text","value":"An elegant method is to remove seasonality by making date comparison relative."},{"type":"text","value":"The first thing we need to do is compare birth and death dates in a circular year* (values ranging from -182 to 182; half a year before to after birthday, respectively)."},{"type":"text","value":"(below is graphic-y]"},{"type":"text","value":"Here is Gus (made up name). He was born and died on May 11 (real dates). Thatâ€™s a difference of 0 days."},{"type":"text","value":"Next is Gretchen. She was born on March 2, and died on April 13. Thatâ€™s a difference of 43 days."},{"type":"text","value":"Last is Randall. He was also born on March 2, and died a day before his birthdayâ€“March 1. Thatâ€™s a difference of -1."},{"type":"text","value":"We do this for each person and count the number of times each difference occurs. We arrange them in sequence."},{"type":"text","value":"(chart)"},{"type":"text","value":"If we expect death dates to be random relative to birthdays, this should look pretty flat."},{"type":"text","value":"(chart)"},{"type":"text","value":"For birthday deaths (a value 0) we see a X% excess. So definitely more than expected. But againâ€¦ is that <strong>statistically significant?</strong>"},{"type":"text","value":"Yes! (p < 0.01)"},{"type":"text","value":"This was Ajdacic and Grossâ€™ method when they found 13.8% excess deaths on birthdays in 2.38 million deaths in Switzerland between 1969-2008."},{"type":"text","value":"This works great, but if we want even finer-grain seasonality control and answer more nuanced questions, there is yet another method."}]},{"section":"pena","content":[{"type":"text","value":"I actually have data for over 20 years; 1,000,000 deaths. We need this bigger sample for this next method, which compares the birth and death combinations for every possible pair in the year. We create bins for every possible birth/death pair."},{"type":"code","value":"365 x 365 = <strong>133,225</strong>"},{"type":"text","value":"This enables us to account for tiny nuances in seasonality."},{"type":"text","value":"(chart and show breakdowns and stuff)"},{"type":"text","value":"With more data, we can ask more specific questions, like, is the birthday effect more or less apparent in older people? Women vs men?"},{"type":"text","value":"(charts)"},{"type":"text","value":"Do January births have more of a birthday effect than September births?"},{"type":"text","value":"(charts)"},{"type":"text","value":"Is there a weekend effect?"},{"type":"text","value":"(charts)"}]},{"section":"conclusion","content":[{"type":"text","value":"So why does the birthday effect exist? There are many theories fromâ€¦"},{"type":"text","value":"For younger people especially, birthday celebrations with alcohol and risk-taking behaviors may explain the higher weekend birthday effect."},{"type":"text","value":"For older adults, the psychological stress of another year passing might exacerbate existing health conditions."},{"type":"text","value":"This is why controlling for seasonality is critical when investigating time-dependent phenomena. The naive approach produces potentially misleading results that vary throughout the year, while a proper analysis more likely reveals a true causal relationshipâ€”something about birthdays themselves influences mortality risk."},{"type":"text","value":"What started as a simple curiosityâ€”are we more likely to die on our birthdays?â€”tells us more about how we understand our world through statistics."},{"type":"text","value":"Every choice researchers make matters. The populations they study, the time periods they examine, and especially how they analyze their data all shape not just the results, but our interpretation of those results."}]}]}';var We=k('<p> </p> <progress max="100"></progress>',1);function $e(t,e){let a=j(e,"label",3,"A"),r=j(e,"value",3,0);var s=We(),i=B(s),h=y(i,!0);m(i);var v=g(i,2);I(()=>{D(h,a()),de(v,r())}),b(t,s)}var Je=k('<section id="cms"><h2>MicroCMS</h2> <code><pre> </pre></code> <!></section>');function Ge(t,e){$(e,!0);const{body:a}=ve,r={Test:$e};var s=Je(),i=g(y(s),2),h=y(i),v=y(h,!0);m(h),m(i);var x=g(i,2);he(x,{components:r,body:a}),m(s),I(n=>D(v,n),[()=>Oe.replace(/\t/g," ")]),b(t,s),J()}const He=(t,e=z)=>{var a=Pe(),r=y(a),s=y(r,!0);m(r);var i=g(r,2),h=y(i,!0);m(i),m(a),I(()=>{D(s,e().name),D(h,e().age)}),b(t,a)};var Pe=k('<div class="person svelte-1ltx6da"><p class="svelte-1ltx6da"> </p> <p class="svelte-1ltx6da"> </p></div>'),Ye=(t,e)=>ne(e),Ze=(t,e)=>e.random(Math.floor(Math.random()*10)),Ve=k('<h2>Svelte5</h2> <h3>Reactive variables 3 ways:</h3> <button class="svelte-1ltx6da">count++</button> <p class="svelte-1ltx6da"> </p> <p class="svelte-1ltx6da"> </p> <p class="svelte-1ltx6da"> </p> <h3>Children (previously slots):</h3> <div class="children"><!></div> <h3>Dispatch Event</h3> <button class="svelte-1ltx6da">Random</button>  <h3>Snippets</h3> <div class="people svelte-1ltx6da"></div>',1);function ze(t,e){$(e,!0),j(e,"age",3,30);const a=[{name:"John",age:30},{name:"Jill",age:45}];let r=E(0),s=W(()=>p(r)*2),i=W(()=>p(r)*2),h=E(0);O(()=>{A(h,p(r)*2)});var v=Ve(),x=g(B(v),4);x.__click=[Ye,r];var n=g(x,2),c=y(n);m(n);var o=g(n,2),d=y(o);m(o);var w=g(o,2),u=y(w);m(w);var l=g(w,4),_=y(l);te(_,()=>e.children??z),m(l);var f=g(l,4);f.__click=[Ze,e];var T=g(f,4);H(T,21,()=>a,P,(C,U)=>{He(C,()=>p(U))}),m(T),I(()=>{D(c,`${p(r)??""} doubled is ${p(s)??""} (derived)`),D(d,`${p(r)??""} doubled is ${p(i)??""} (derived by)`),D(u,`${p(r)??""} doubled is ${p(h)??""} ($effect)`)}),b(t,v),J()}le(["click"]);const Qe=(t,e)=>{let a=E(R(t)),r=E(null),s=E(!0),i=E(void 0);const h=(n=!0)=>{A(s,R(n)),n===!0&&(A(i,null),A(r,null))},v=async()=>{try{const n=await fetch(p(a),e);if(!n.ok)throw new Error(`Unexpected error occurred (status ${n.status})`);let c;if(p(a).includes(".csv")){const o=await n.text();c=_e(o)}else c=await n.json();return[null,c]}catch(n){const{errorMessage:c="Unexpected error eccurred"}=n;return[c,null]}},x=async n=>{h(!0);const[c,o]=await v();if(n===p(a)){if(c){h(!1),A(i,R(c));return}h(!1),A(r,R(o))}};return O(()=>{x(p(a))}),{get data(){return p(r)},get loading(){return p(s)},get error(){return p(i)},get url(){return p(a)},set url(n){p(a)!==n&&A(a,R(n))}}};var Ke=k("<p>loading data...</p>"),Xe=k("<p> </p>"),et=k("<p>data loaded</p> <pre> </pre>",1),tt=k('<div class="c"><h2>Load Data</h2> <div class="response"><!></div></div>');function at(t,e){$(e,!0);const a=`${me}/assets/demo/test.csv`,r=Qe(a);O(()=>{});var s=tt(),i=g(y(s),2),h=y(i);{var v=n=>{var c=Ke();b(n,c)},x=n=>{var c=G(),o=B(c);{var d=u=>{var l=Xe(),_=y(l);m(l),I(()=>D(_,`error: ${r.error??""}`)),b(u,l)},w=u=>{var l=et(),_=g(B(l),2),f=y(_,!0);m(_),I(T=>D(f,T),[()=>JSON.stringify(r.data,null,2)]),b(u,l)};K(o,u=>{r.error?u(d):u(w,!1)},!0)}b(n,c)};K(h,n=>{r.loading?n(v):n(x,!1)})}m(i),m(s),b(t,s),J()}var rt=k('<div id="demo" class="svelte-m1ilu3"><h1>Demo</h1> <!> <!> <!> <!> <!> <!> <!> <!></div>');function ot(t){let e=E(0);function a(d){console.log(d)}var r=rt(),s=g(y(r),2);ze(s,{random:a,get value(){return p(e)},set value(d){A(e,R(d))}});var i=g(s,2);ke(i);var h=g(i,2);Se(h);var v=g(h,2);Ie(v);var x=g(v,2);Be(x);var n=g(x,2);Ge(n,{});var c=g(n,2);at(c,{});var o=g(c,2);Ne(o),m(r),b(t,r)}function yt(t){ot(t)}export{yt as component};
